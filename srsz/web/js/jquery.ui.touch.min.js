!function(e){function t(){s&&(window.clearTimeout(l),s=!1,a=null)}function n(e){s||(s=!0,a=e.changedTouches[0],l=window.setTimeout("doRightClick();",800))}function c(e){var t=e.changedTouches,c=t[0],u="mouseover",s=document.createEvent("MouseEvent");s.initMouseEvent(u,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(s),u="mousedown",s=document.createEvent("MouseEvent"),s.initMouseEvent(u,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(s),i?(window.clearTimeout(r),c.target==o?(o=null,i=!1,u="click",s=document.createEvent("MouseEvent"),s.initMouseEvent(u,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(s),u="dblclick",s=document.createEvent("MouseEvent"),s.initMouseEvent(u,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(s)):(o=c.target,i=!0,r=window.setTimeout("cancelTap();",600),n(e))):(o=c.target,i=!0,r=window.setTimeout("cancelTap();",600),n(e))}function u(n){var u="",r=0;if(!(n.touches.length>1)){switch(n.type){case"touchstart":if(e(n.changedTouches[0].target).is("select"))return;return c(n),n.preventDefault(),!1;case"touchmove":t(),u="mousemove",n.preventDefault();break;case"touchend":if(d)return d=!1,n.preventDefault(),!1;t(),u="mouseup";break;default:return}var s=n.changedTouches,a=s[0],l=document.createEvent("MouseEvent");l.initMouseEvent(u,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,r,null),a.target.dispatchEvent(l),"mouseup"==u&&i&&a.target==o&&(l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,r,null),a.target.dispatchEvent(l))}}var o=null,i=!1,r=null,s=!1,a=null,l=null,d=!1;e.extend(e.support,{touch:"ontouchend"in document}),e.fn.addTouch=function(){e.support.touch&&this.each(function(e,t){t.addEventListener("touchstart",u,!1),t.addEventListener("touchmove",u,!1),t.addEventListener("touchend",u,!1),t.addEventListener("touchcancel",u,!1)})}}(jQuery);